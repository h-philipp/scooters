{"level":"warn","ts":1561623766.8905792,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1561623766.8908606,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}
{"level":"warn","ts":1561623767.8679552,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1561623767.8691766,"logger":"fallback-logger","caller":"bash/main.go:65","msg":"Successfully executed command \"mkdir -p /workspace/source /workspace/source/charts/scooters\""}
{"level":"warn","ts":1561623769.9153016,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1561623771.1628468,"logger":"fallback-logger","caller":"git/git.go:102","msg":"Successfully cloned https://github.com/h-philipp/scooters @ v0.0.11 in path /workspace/source"}
Using SHAs from PULL_REFS=master:
WARNING: no SHAs to merge, falling back to initial cloned commit
Generated Git credentials file /workspace/xdg_config/git/credentials
WARNING: failed to find Secret npm-token in namespace jx
added 77 packages from 86 contributors and audited 159 packages in 1.462s
found 0 vulnerabilities


> scooter@1.0.0 test /workspace/source
> echo 'Error: no test specified'

Error: no test specified
[36mINFO[0m[0000] Downloading base image node:9-slim           
[36mINFO[0m[0001] Error while retrieving image from cache: getting file info: stat /workspace/sha256:0e0175bbe4f8d9d104590d8d2c591017874e30977cb71aaff1cf6fa99479575c: no such file or directory 
[36mINFO[0m[0001] Downloading base image node:9-slim           
[36mINFO[0m[0002] Executing 0 build triggers                   
[36mINFO[0m[0002] cmd: EXPOSE                                  
[36mINFO[0m[0002] Adding exposed port: 8080/tcp                
[36mINFO[0m[0002] Using files from context: [/workspace/source/package-lock.json /workspace/source/package.json] 
[36mINFO[0m[0002] Using files from context: [/workspace/source] 
[36mINFO[0m[0002] Checking for cached layer 245642514919.dkr.ecr.eu-central-1.amazonaws.com/todo/cache:9d54247e13800a9307005cfa8e21f73f56725447f962707ba1426faf72d24d1f... 
[36mINFO[0m[0002] No cached layer found for cmd RUN npm install 
[36mINFO[0m[0002] Unpacking rootfs as cmd RUN npm install requires it. 
[36mINFO[0m[0006] Taking snapshot of full filesystem...        
[36mINFO[0m[0008] ENV PORT 8080                                
[36mINFO[0m[0008] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0008] EXPOSE 8080                                  
[36mINFO[0m[0008] cmd: EXPOSE                                  
[36mINFO[0m[0008] Adding exposed port: 8080/tcp                
[36mINFO[0m[0008] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0008] WORKDIR /usr/src/app                         
[36mINFO[0m[0008] cmd: workdir                                 
[36mINFO[0m[0008] Changed working directory to /usr/src/app    
[36mINFO[0m[0008] Creating directory /usr/src/app              
[36mINFO[0m[0008] Taking snapshot of files...                  
[36mINFO[0m[0008] Using files from context: [/workspace/source/package-lock.json /workspace/source/package.json] 
[36mINFO[0m[0008] COPY ./package*.json ./                      
[36mINFO[0m[0008] Taking snapshot of files...                  
[36mINFO[0m[0008] Using files from context: [/workspace/source] 
[36mINFO[0m[0008] COPY . .                                     
[36mINFO[0m[0008] Taking snapshot of files...                  
[36mINFO[0m[0008] RUN npm install                              
[36mINFO[0m[0008] cmd: /bin/sh                                 
[36mINFO[0m[0008] args: [-c npm install]                       
up to date in 0.396s
[36mINFO[0m[0009] Taking snapshot of full filesystem...        
[36mINFO[0m[0010] CMD [ "npm", "start" ]                       
[36mINFO[0m[0010] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0010] Pushing layer 245642514919.dkr.ecr.eu-central-1.amazonaws.com/todo/cache:9d54247e13800a9307005cfa8e21f73f56725447f962707ba1426faf72d24d1f to cache now 
[33mWARN[0m[0011] error uploading layer to cache: failed to push to destination 245642514919.dkr.ecr.eu-central-1.amazonaws.com/todo/cache:9d54247e13800a9307005cfa8e21f73f56725447f962707ba1426faf72d24d1f: NAME_UNKNOWN: The repository with name 'todo/cache' does not exist in the registry with id '245642514919' 
2019/06/27 08:23:07 existing blob: sha256:196b8e3c919d5639193ba6c6e54774528942041bbc37606631a2250502985c3c
2019/06/27 08:23:07 existing blob: sha256:5bba3ecb4cd6374a19da45f2a3db0a9c0804984358b3bb4b666c28944016e5ff
2019/06/27 08:23:07 existing blob: sha256:e01bd28a434b56ffd2a3fe9aa99b9b69aecca69904843edd30b1ee7150d79904
2019/06/27 08:23:07 existing blob: sha256:7d083412657baa2dafba8d093034ef26f9ed2c90fb6ed95f76bb55aff03ed429
2019/06/27 08:23:07 existing blob: sha256:a88538b9cd05cfa611e43a25582a95ad7879f6fa708b0386a26b71ee62235bb3
2019/06/27 08:23:07 pushed blob: sha256:154f805977956207b680b55f898f7c7dc50a80a24b39e807e4ce99deecb90172
2019/06/27 08:23:07 pushed blob: sha256:75c1ac23dbfa8430eb3d811fcc70a2d300282b044ab944b87e70a5f34ceb0834
2019/06/27 08:23:07 pushed blob: sha256:9af6d9b2684f519f578f9d2720b47c56e26cdf167471d4c54ad9ca0d4cb0a146
2019/06/27 08:23:07 pushed blob: sha256:d23dfc82b73f1cbc8a668bb4dd644de2c617f9d0eccc43060abaff93d04ba38f
2019/06/27 08:23:08 pushed blob: sha256:b5512284f76aa5d9db7343e00cea4a5673f83cda912a72219b165e2a841dcd0b
2019/06/27 08:23:08 245642514919.dkr.ecr.eu-central-1.amazonaws.com/h-philipp/scooters:0.0.11: digest: sha256:20beaca225323e9be2228e91a0f284985a681661a7f607c33225604aaf4f904d size: 1728
no CVE provider running in the current jx namespace so skip adding image to be analysed
Converted /workspace/source/charts/scooters to an unshallow repository
Generating change log from git ref b06c446937f46e651c50b891c1cc9b6b50eb989b => 9f7f0487c4cbb41a24a30e078ab9553fe56ae7de
Associating user x-0 in users.jenkins.io with email h.phips96@gmail.com to git GitProvider user with login -0 as emails match
Adding label jenkins.io/git-github-userid=-0 to user x-0 in users.jenkins.io
WARNING: Failed to enrich commit b6a9cfe2a1c023298e84bc34b6fe41083c1d2c95 with issues: User.jenkins.io "x-0" is invalid: metadata.labels: Invalid value: "-0": a valid label must be an empty string or consist of alphanumeric characters, '-', '_' or '.', and must start and end with an alphanumeric character (e.g. 'MyValue',  or 'my_value',  or '12345', regex used for validation is '(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])?')
Associating user x-0 in users.jenkins.io with email h.phips96@gmail.com to git GitProvider user with login -0 as emails match
Adding label jenkins.io/git-github-userid=-0 to user x-0 in users.jenkins.io
WARNING: Failed to enrich commit b6a9cfe2a1c023298e84bc34b6fe41083c1d2c95 with issues: User.jenkins.io "x-0" is invalid: metadata.labels: Invalid value: "-0": a valid label must be an empty string or consist of alphanumeric characters, '-', '_' or '.', and must start and end with an alphanumeric character (e.g. 'MyValue',  or 'my_value',  or '12345', regex used for validation is '(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])?')
Finding issues in commit messages using git format
WARNING: No release found for h-philipp/scooters and tag v0.0.11 so creating a new release
Updated the release information at https://github.com/h-philipp/scooters/releases/tag/v0.0.11
generated: /workspace/source/charts/scooters/templates/release.yaml
Created Release scooters-0-0-11 resource in namespace jx
Updating PipelineActivity h-philipp-scooters-master-7 with version 0.0.11
Updated PipelineActivities h-philipp-scooters-master-7 with release notes URL: https://github.com/h-philipp/scooters/releases/tag/v0.0.11
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: storage.googleapis.com https://storage.googleapis.com/chartmuseum.jenkins-x.io
Successfully added Helm repository storage.googleapis.com.
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Uploading chart file scooters-0.0.11.tgz to http://jenkins-x-chartmuseum:8080/api/charts
Received 201 response: {"saved":true}
WARNING: prow based install so skip waiting for the merge of Pull Requests to go green as currently there is an issue with gettingstatuses from the PR, see https://github.com/jenkins-x/jx/issues/2410
Promoting app scooters version 0.0.11 to namespace jx-staging
Created Pull Request: https://github.com/h-philipp/environment-scotter-app-cloud-staging/pull/7
WARNING: Failed to query the Pull Request last commit status for https://github.com/h-philipp/environment-scotter-app-cloud-staging/pull/7 ref a82670450d4233d1dade993fc594172df39e3841 Could not find a status for repository h-philipp/environment-scotter-app-cloud-staging with ref a82670450d4233d1dade993fc594172df39e3841
